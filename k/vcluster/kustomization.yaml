namespace: vcluster

helmCharts:
- releaseName: vcluster
  name: vcluster
  version: 0.11.1
  repo: https://charts.loft.sh
  includeCRDs: true
  valuesInline:
    service:
      type: ClusterIP
    vcluster:
      image: rancher/k3s:v1.23.9-k3s1
    syncer:
      extraArgs:
        - --tls-san=vcluster.vcluster.svc.cluster.local

# vcluster connect vcluster --kube-config ~/.kube/vcluster --kube-config-context-name vcluster --update-current=false --server vcluster.vcluster.svc.cluster.local
# env KUBECONFIG=$HOME/.kube/config:$HOME/.kube/vcluster kubectl config view --flatten >
# kubectl --kubeconfig /home/ubuntu/.kube/vcluster get namespaces
