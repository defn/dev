#!/usr/bin/env bash
# j - Just command runner wrapper with interactive selection
#
# Usage: j [command] [args...]
#        j /        - Interactive command selection with chooser
#        j          - List available commands
#
# A wrapper for the Just command runner that provides interactive
# command selection and enables unstable features.

export JUST_UNSTABLE=1

if [[ $# == 0 ]]; then
	just -l
else
	export JUST_WORKDIR="$(pwd)"
	case "${1}" in
	/)
		shift
		exec just --choose "$@"
		;;
	*)
		exec just "$@"
		;;
	esac
fi
