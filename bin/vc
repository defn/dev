#!/usr/bin/env bash

function main {
	set -efu

	local context="${0##*/}"

	case "${context}" in
		vc*)
			context="control-${context}"
			;;
	esac

	case "${context}" in
		*-vc*)
			context="vcluster-${context}"
			;;
	esac
	exec kubectl --context "${context}" "$@"
}

main "$@"
