#!/usr/bin/env bash

function main {
	case "$#" in
		0)
			vault kv list kv
			;;
		1)
			case "$1" in
				*/)
					vault kv list "kv/$1"
					;;
				*)
					vault kv get -mount=kv -format=json "$@" | jq .data.data
					;;
			esac
			;;
		*)
			vault kv patch -mount=kv "$@"
			;;
	esac
}

main "$@"
