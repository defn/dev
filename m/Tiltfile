#!/usr/bin/env python

v1alpha1.extension_repo(
    name="custom", load_host="defn", url="file://{}/m".format(os.environ["HOME"])
)

load("ext://defn/common", "main")
load("ext://uibutton", "cmd_button", "text_input", "location")

local_resource(
    "build",
    cmd=[
        "bash",
        "-c",
        """
            exec make build
        """,
    ],
)

local_resource(
    name="hello",
    cmd="echo hello",
)

local_resource(
    name="sleep-server",
    serve_cmd="sleep 86400",
)

cmd_button(
    name="hello-google",
    argv=["bash", "-c", "open https://google.com"],
    resource="hello",
    icon_name="cloud_download",
    text="google",
)

cmd_button(
    name="hello",
    argv=["sh", "-c", "echo Hello, $NAME"],
    location=location.NAV,
    icon_name="front_hand",
    text="Hello!",
    inputs=[
        text_input("NAME"),
    ],
)
