# auto-generated: transform.sh
account: org
email: aws-chamber@defn.us
id: "730917619329"
name: chamber-org
org: chamber
sso_role: Administrator
aws_config: |-
  # auto-generated: aws.cue aws_config_account
  [profile chamber-org]
  sso_account_id=730917619329
  sso_role_name=Administrator
  sso_start_url=https://chamber-0.awsapps.com/start
  sso_region=us-west-2

  # auto-generated: aws.cue aws_config_bootstrap
  [profile defn-org]
  sso_account_id=510430971399
  sso_role_name=Administrator
  sso_start_url=https://defn.awsapps.com/start
  sso_region=us-east-2
mise_config: |-
  # auto-generated: aws.cue mise_config
  [env]
  AWS_PROFILE = "chamber-org"
  AWS_REGION = "us-west-2"
  AWS_CONFIG_FILE = "/home/ubuntu/m/aws/chamber/org/.aws/config"
aws_config_account: |-
  # auto-generated: aws.cue aws_config_account
  [profile chamber-org]
  sso_account_id=730917619329
  sso_role_name=Administrator
  sso_start_url=https://chamber-0.awsapps.com/start
  sso_region=us-west-2
aws_config_bootstrap: |-
  # auto-generated: aws.cue aws_config_bootstrap
  [profile defn-org]
  sso_account_id=510430971399
  sso_role_name=Administrator
  sso_start_url=https://defn.awsapps.com/start
  sso_region=us-east-2
account_readme: |-
  ## AWS Environment: chamber-org

  ```bash
  cd aws/chamber/org
  mise trust
  aws sso login
  alogin
  ```

  auto-generated: aws.cue account_readme
infra_org_readme: |-
  ## Organizational-level Terraform: chamber-org

  ```bash
  cd infra/org-chamber
  mise trust
  aws sso login
  terraform init
  terraform plan
  ```

  auto-generated: aws.cue infra_org_readme
infra_org_terraform: |-
  # auto-generated: aws.cue infra_org_terraform
  terraform {
  	required_providers {
  		aws = {
  			version = "5.99.1"
  			source  = "aws"
  		}
  	}
  	backend "s3" {
  		profile        = "defn-org"
  		bucket         = "dfn-defn-terraform-state"
  		use_lockfile   = true
  		key            = "stacks/org-chamber/terraform.tfstate"
  		region         = "us-east-1"
  		encrypt        = true
  	}

  }

  provider "aws" {
  	profile = "chamber-org"
  	region  = "us-west-2"
  }

  locals {
  	sso_instance_arn  = data.aws_ssoadmin_instances.sso_instance.arns
  	sso_instance_isid = data.aws_ssoadmin_instances.sso_instance.identity_store_ids
  }

  resource "aws_organizations_organization" "organization" {
  	aws_service_access_principals = [
  		"account.amazonaws.com",
  		"iam.amazonaws.com",
  		"cloudtrail.amazonaws.com",
  		"config.amazonaws.com",
  		"ram.amazonaws.com",
  		"ssm.amazonaws.com",
  		"sso.amazonaws.com",
  		"tagpolicies.tag.amazonaws.com"
  	]
  	enabled_policy_types = [
  		"SERVICE_CONTROL_POLICY",
  		"TAG_POLICY"
  	]
  	feature_set = "ALL"
  }

  data "aws_ssoadmin_instances" "sso_instance" {
  }

  resource "aws_ssoadmin_permission_set" "admin_sso_permission_set" {
  	instance_arn     = element(local.sso_instance_arn, 0)
  	name             = "Administrator"
  	session_duration = "PT2H"
  	tags = {
  		ManagedBy = "Terraform"
  	}
  }

  resource "aws_ssoadmin_managed_policy_attachment" "admin_sso_managed_policy_attachment" {
  	instance_arn       = aws_ssoadmin_permission_set.admin_sso_permission_set.instance_arn
  	managed_policy_arn = "arn:aws:iam::aws:policy/AdministratorAccess"
  	permission_set_arn = aws_ssoadmin_permission_set.admin_sso_permission_set.arn
  }

  resource "aws_identitystore_group" "administrators_sso_group" {
  	display_name      = "Administrators"
  	identity_store_id = element(local.sso_instance_isid, 0)
  }
  resource "aws_organizations_account" "chamber_org" {
  	email = "aws-chamber@defn.us"
  	name  = "chamber-org"
  	tags = {
  		ManagedBy = "Terraform"
  	}
  }

  resource "aws_ssoadmin_account_assignment" "chamber_org_admin_sso_account_assignment" {
  	instance_arn       = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.instance_arn
  	permission_set_arn = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.permission_set_arn
  	principal_id       = aws_identitystore_group.administrators_sso_group.group_id
  	principal_type     = "GROUP"
  	target_id          = aws_organizations_account.chamber_org.id
  	target_type        = "AWS_ACCOUNT"
  }
  resource "aws_organizations_account" "chamber_1" {
  	email = "aws-cd@defn.us"
  	name  = "chamber-1"
  	tags = {
  		ManagedBy = "Terraform"
  	}
  }

  resource "aws_ssoadmin_account_assignment" "chamber_1_admin_sso_account_assignment" {
  	instance_arn       = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.instance_arn
  	permission_set_arn = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.permission_set_arn
  	principal_id       = aws_identitystore_group.administrators_sso_group.group_id
  	principal_type     = "GROUP"
  	target_id          = aws_organizations_account.chamber_1.id
  	target_type        = "AWS_ACCOUNT"
  }
  resource "aws_organizations_account" "chamber_2" {
  	email = "aws-ci@defn.us"
  	name  = "chamber-2"
  	tags = {
  		ManagedBy = "Terraform"
  	}
  }

  resource "aws_ssoadmin_account_assignment" "chamber_2_admin_sso_account_assignment" {
  	instance_arn       = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.instance_arn
  	permission_set_arn = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.permission_set_arn
  	principal_id       = aws_identitystore_group.administrators_sso_group.group_id
  	principal_type     = "GROUP"
  	target_id          = aws_organizations_account.chamber_2.id
  	target_type        = "AWS_ACCOUNT"
  }
  resource "aws_organizations_account" "chamber_3" {
  	email = "aws-users@defn.us"
  	name  = "chamber-3"
  	tags = {
  		ManagedBy = "Terraform"
  	}
  }

  resource "aws_ssoadmin_account_assignment" "chamber_3_admin_sso_account_assignment" {
  	instance_arn       = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.instance_arn
  	permission_set_arn = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.permission_set_arn
  	principal_id       = aws_identitystore_group.administrators_sso_group.group_id
  	principal_type     = "GROUP"
  	target_id          = aws_organizations_account.chamber_3.id
  	target_type        = "AWS_ACCOUNT"
  }
  resource "aws_organizations_account" "chamber_4" {
  	email = "chamber-4@defn.us"
  	name  = "chamber-4"
  	tags = {
  		ManagedBy = "Terraform"
  	}
  }

  resource "aws_ssoadmin_account_assignment" "chamber_4_admin_sso_account_assignment" {
  	instance_arn       = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.instance_arn
  	permission_set_arn = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.permission_set_arn
  	principal_id       = aws_identitystore_group.administrators_sso_group.group_id
  	principal_type     = "GROUP"
  	target_id          = aws_organizations_account.chamber_4.id
  	target_type        = "AWS_ACCOUNT"
  }
  resource "aws_organizations_account" "chamber_5" {
  	email = "chamber-5@defn.us"
  	name  = "chamber-5"
  	tags = {
  		ManagedBy = "Terraform"
  	}
  }

  resource "aws_ssoadmin_account_assignment" "chamber_5_admin_sso_account_assignment" {
  	instance_arn       = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.instance_arn
  	permission_set_arn = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.permission_set_arn
  	principal_id       = aws_identitystore_group.administrators_sso_group.group_id
  	principal_type     = "GROUP"
  	target_id          = aws_organizations_account.chamber_5.id
  	target_type        = "AWS_ACCOUNT"
  }
  resource "aws_organizations_account" "chamber_6" {
  	email = "chamber-6@defn.us"
  	name  = "chamber-6"
  	tags = {
  		ManagedBy = "Terraform"
  	}
  }

  resource "aws_ssoadmin_account_assignment" "chamber_6_admin_sso_account_assignment" {
  	instance_arn       = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.instance_arn
  	permission_set_arn = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.permission_set_arn
  	principal_id       = aws_identitystore_group.administrators_sso_group.group_id
  	principal_type     = "GROUP"
  	target_id          = aws_organizations_account.chamber_6.id
  	target_type        = "AWS_ACCOUNT"
  }
  resource "aws_organizations_account" "chamber_7" {
  	email = "chamber-7@defn.us"
  	name  = "chamber-7"
  	tags = {
  		ManagedBy = "Terraform"
  	}
  }

  resource "aws_ssoadmin_account_assignment" "chamber_7_admin_sso_account_assignment" {
  	instance_arn       = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.instance_arn
  	permission_set_arn = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.permission_set_arn
  	principal_id       = aws_identitystore_group.administrators_sso_group.group_id
  	principal_type     = "GROUP"
  	target_id          = aws_organizations_account.chamber_7.id
  	target_type        = "AWS_ACCOUNT"
  }
  resource "aws_organizations_account" "chamber_8" {
  	email = "chamber-8@defn.us"
  	name  = "chamber-8"
  	tags = {
  		ManagedBy = "Terraform"
  	}
  }

  resource "aws_ssoadmin_account_assignment" "chamber_8_admin_sso_account_assignment" {
  	instance_arn       = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.instance_arn
  	permission_set_arn = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.permission_set_arn
  	principal_id       = aws_identitystore_group.administrators_sso_group.group_id
  	principal_type     = "GROUP"
  	target_id          = aws_organizations_account.chamber_8.id
  	target_type        = "AWS_ACCOUNT"
  }
  resource "aws_organizations_account" "chamber_9" {
  	email = "chamber-9@defn.us"
  	name  = "chamber-9"
  	tags = {
  		ManagedBy = "Terraform"
  	}
  }

  resource "aws_ssoadmin_account_assignment" "chamber_9_admin_sso_account_assignment" {
  	instance_arn       = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.instance_arn
  	permission_set_arn = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.permission_set_arn
  	principal_id       = aws_identitystore_group.administrators_sso_group.group_id
  	principal_type     = "GROUP"
  	target_id          = aws_organizations_account.chamber_9.id
  	target_type        = "AWS_ACCOUNT"
  }
  resource "aws_organizations_account" "chamber_a" {
  	email = "defn-a@imma.io"
  	name  = "chamber-a"
  	tags = {
  		ManagedBy = "Terraform"
  	}
  }

  resource "aws_ssoadmin_account_assignment" "chamber_a_admin_sso_account_assignment" {
  	instance_arn       = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.instance_arn
  	permission_set_arn = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.permission_set_arn
  	principal_id       = aws_identitystore_group.administrators_sso_group.group_id
  	principal_type     = "GROUP"
  	target_id          = aws_organizations_account.chamber_a.id
  	target_type        = "AWS_ACCOUNT"
  }
  resource "aws_organizations_account" "chamber_b" {
  	email = "imma-admin1@imma.io"
  	name  = "chamber-b"
  	tags = {
  		ManagedBy = "Terraform"
  	}
  }

  resource "aws_ssoadmin_account_assignment" "chamber_b_admin_sso_account_assignment" {
  	instance_arn       = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.instance_arn
  	permission_set_arn = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.permission_set_arn
  	principal_id       = aws_identitystore_group.administrators_sso_group.group_id
  	principal_type     = "GROUP"
  	target_id          = aws_organizations_account.chamber_b.id
  	target_type        = "AWS_ACCOUNT"
  }
  resource "aws_organizations_account" "chamber_c" {
  	email = "dev-eng1@imma.io"
  	name  = "chamber-c"
  	tags = {
  		ManagedBy = "Terraform"
  	}
  }

  resource "aws_ssoadmin_account_assignment" "chamber_c_admin_sso_account_assignment" {
  	instance_arn       = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.instance_arn
  	permission_set_arn = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.permission_set_arn
  	principal_id       = aws_identitystore_group.administrators_sso_group.group_id
  	principal_type     = "GROUP"
  	target_id          = aws_organizations_account.chamber_c.id
  	target_type        = "AWS_ACCOUNT"
  }
  resource "aws_organizations_account" "chamber_d" {
  	email = "box-adm1@imma.io"
  	name  = "chamber-d"
  	tags = {
  		ManagedBy = "Terraform"
  	}
  }

  resource "aws_ssoadmin_account_assignment" "chamber_d_admin_sso_account_assignment" {
  	instance_arn       = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.instance_arn
  	permission_set_arn = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.permission_set_arn
  	principal_id       = aws_identitystore_group.administrators_sso_group.group_id
  	principal_type     = "GROUP"
  	target_id          = aws_organizations_account.chamber_d.id
  	target_type        = "AWS_ACCOUNT"
  }
  resource "aws_organizations_account" "chamber_e" {
  	email = "stg-eng1@imma.io"
  	name  = "chamber-e"
  	tags = {
  		ManagedBy = "Terraform"
  	}
  }

  resource "aws_ssoadmin_account_assignment" "chamber_e_admin_sso_account_assignment" {
  	instance_arn       = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.instance_arn
  	permission_set_arn = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.permission_set_arn
  	principal_id       = aws_identitystore_group.administrators_sso_group.group_id
  	principal_type     = "GROUP"
  	target_id          = aws_organizations_account.chamber_e.id
  	target_type        = "AWS_ACCOUNT"
  }
  resource "aws_organizations_account" "chamber_f" {
  	email = "usr-admin1@imma.io"
  	name  = "chamber-f"
  	tags = {
  		ManagedBy = "Terraform"
  	}
  }

  resource "aws_ssoadmin_account_assignment" "chamber_f_admin_sso_account_assignment" {
  	instance_arn       = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.instance_arn
  	permission_set_arn = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.permission_set_arn
  	principal_id       = aws_identitystore_group.administrators_sso_group.group_id
  	principal_type     = "GROUP"
  	target_id          = aws_organizations_account.chamber_f.id
  	target_type        = "AWS_ACCOUNT"
  }
  resource "aws_organizations_account" "chamber_g" {
  	email = "usr-adm1@imma.io"
  	name  = "chamber-g"
  	tags = {
  		ManagedBy = "Terraform"
  	}
  }

  resource "aws_ssoadmin_account_assignment" "chamber_g_admin_sso_account_assignment" {
  	instance_arn       = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.instance_arn
  	permission_set_arn = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.permission_set_arn
  	principal_id       = aws_identitystore_group.administrators_sso_group.group_id
  	principal_type     = "GROUP"
  	target_id          = aws_organizations_account.chamber_g.id
  	target_type        = "AWS_ACCOUNT"
  }
  resource "aws_organizations_account" "chamber_h" {
  	email = "usr-eng1@imma.io"
  	name  = "chamber-h"
  	tags = {
  		ManagedBy = "Terraform"
  	}
  }

  resource "aws_ssoadmin_account_assignment" "chamber_h_admin_sso_account_assignment" {
  	instance_arn       = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.instance_arn
  	permission_set_arn = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.permission_set_arn
  	principal_id       = aws_identitystore_group.administrators_sso_group.group_id
  	principal_type     = "GROUP"
  	target_id          = aws_organizations_account.chamber_h.id
  	target_type        = "AWS_ACCOUNT"
  }
  resource "aws_organizations_account" "chamber_i" {
  	email = "aws-admin1@defn.us"
  	name  = "chamber-i"
  	tags = {
  		ManagedBy = "Terraform"
  	}
  }

  resource "aws_ssoadmin_account_assignment" "chamber_i_admin_sso_account_assignment" {
  	instance_arn       = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.instance_arn
  	permission_set_arn = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.permission_set_arn
  	principal_id       = aws_identitystore_group.administrators_sso_group.group_id
  	principal_type     = "GROUP"
  	target_id          = aws_organizations_account.chamber_i.id
  	target_type        = "AWS_ACCOUNT"
  }
  resource "aws_organizations_account" "chamber_j" {
  	email = "aws-development1@defn.us"
  	name  = "chamber-j"
  	tags = {
  		ManagedBy = "Terraform"
  	}
  }

  resource "aws_ssoadmin_account_assignment" "chamber_j_admin_sso_account_assignment" {
  	instance_arn       = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.instance_arn
  	permission_set_arn = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.permission_set_arn
  	principal_id       = aws_identitystore_group.administrators_sso_group.group_id
  	principal_type     = "GROUP"
  	target_id          = aws_organizations_account.chamber_j.id
  	target_type        = "AWS_ACCOUNT"
  }
  resource "aws_organizations_account" "chamber_l" {
  	email = "aws-staging1@defn.us"
  	name  = "chamber-l"
  	tags = {
  		ManagedBy = "Terraform"
  	}
  }

  resource "aws_ssoadmin_account_assignment" "chamber_l_admin_sso_account_assignment" {
  	instance_arn       = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.instance_arn
  	permission_set_arn = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.permission_set_arn
  	principal_id       = aws_identitystore_group.administrators_sso_group.group_id
  	principal_type     = "GROUP"
  	target_id          = aws_organizations_account.chamber_l.id
  	target_type        = "AWS_ACCOUNT"
  }
  resource "aws_organizations_account" "chamber_m" {
  	email = "defn-m@defn.us"
  	name  = "chamber-m"
  	tags = {
  		ManagedBy = "Terraform"
  	}
  }

  resource "aws_ssoadmin_account_assignment" "chamber_m_admin_sso_account_assignment" {
  	instance_arn       = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.instance_arn
  	permission_set_arn = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.permission_set_arn
  	principal_id       = aws_identitystore_group.administrators_sso_group.group_id
  	principal_type     = "GROUP"
  	target_id          = aws_organizations_account.chamber_m.id
  	target_type        = "AWS_ACCOUNT"
  }
  resource "aws_organizations_account" "chamber_n" {
  	email = "defn-n@defn.us"
  	name  = "chamber-n"
  	tags = {
  		ManagedBy = "Terraform"
  	}
  }

  resource "aws_ssoadmin_account_assignment" "chamber_n_admin_sso_account_assignment" {
  	instance_arn       = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.instance_arn
  	permission_set_arn = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.permission_set_arn
  	principal_id       = aws_identitystore_group.administrators_sso_group.group_id
  	principal_type     = "GROUP"
  	target_id          = aws_organizations_account.chamber_n.id
  	target_type        = "AWS_ACCOUNT"
  }
  resource "aws_organizations_account" "chamber_o" {
  	email = "defn-o@defn.us"
  	name  = "chamber-o"
  	tags = {
  		ManagedBy = "Terraform"
  	}
  }

  resource "aws_ssoadmin_account_assignment" "chamber_o_admin_sso_account_assignment" {
  	instance_arn       = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.instance_arn
  	permission_set_arn = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.permission_set_arn
  	principal_id       = aws_identitystore_group.administrators_sso_group.group_id
  	principal_type     = "GROUP"
  	target_id          = aws_organizations_account.chamber_o.id
  	target_type        = "AWS_ACCOUNT"
  }
  resource "aws_organizations_account" "chamber_p" {
  	email = "defn-p@defn.us"
  	name  = "chamber-p"
  	tags = {
  		ManagedBy = "Terraform"
  	}
  }

  resource "aws_ssoadmin_account_assignment" "chamber_p_admin_sso_account_assignment" {
  	instance_arn       = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.instance_arn
  	permission_set_arn = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.permission_set_arn
  	principal_id       = aws_identitystore_group.administrators_sso_group.group_id
  	principal_type     = "GROUP"
  	target_id          = aws_organizations_account.chamber_p.id
  	target_type        = "AWS_ACCOUNT"
  }
  resource "aws_organizations_account" "chamber_q" {
  	email = "aws-dev@defn.us"
  	name  = "chamber-q"
  	tags = {
  		ManagedBy = "Terraform"
  	}
  }

  resource "aws_ssoadmin_account_assignment" "chamber_q_admin_sso_account_assignment" {
  	instance_arn       = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.instance_arn
  	permission_set_arn = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.permission_set_arn
  	principal_id       = aws_identitystore_group.administrators_sso_group.group_id
  	principal_type     = "GROUP"
  	target_id          = aws_organizations_account.chamber_q.id
  	target_type        = "AWS_ACCOUNT"
  }
  resource "aws_organizations_account" "chamber_r" {
  	email = "defn-r@imma.io"
  	name  = "chamber-r"
  	tags = {
  		ManagedBy = "Terraform"
  	}
  }

  resource "aws_ssoadmin_account_assignment" "chamber_r_admin_sso_account_assignment" {
  	instance_arn       = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.instance_arn
  	permission_set_arn = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.permission_set_arn
  	principal_id       = aws_identitystore_group.administrators_sso_group.group_id
  	principal_type     = "GROUP"
  	target_id          = aws_organizations_account.chamber_r.id
  	target_type        = "AWS_ACCOUNT"
  }
  resource "aws_organizations_account" "chamber_s" {
  	email = "defn-s@imma.io"
  	name  = "chamber-s"
  	tags = {
  		ManagedBy = "Terraform"
  	}
  }

  resource "aws_ssoadmin_account_assignment" "chamber_s_admin_sso_account_assignment" {
  	instance_arn       = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.instance_arn
  	permission_set_arn = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.permission_set_arn
  	principal_id       = aws_identitystore_group.administrators_sso_group.group_id
  	principal_type     = "GROUP"
  	target_id          = aws_organizations_account.chamber_s.id
  	target_type        = "AWS_ACCOUNT"
  }
  resource "aws_organizations_account" "chamber_t" {
  	email = "defn-t@imma.io"
  	name  = "chamber-t"
  	tags = {
  		ManagedBy = "Terraform"
  	}
  }

  resource "aws_ssoadmin_account_assignment" "chamber_t_admin_sso_account_assignment" {
  	instance_arn       = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.instance_arn
  	permission_set_arn = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.permission_set_arn
  	principal_id       = aws_identitystore_group.administrators_sso_group.group_id
  	principal_type     = "GROUP"
  	target_id          = aws_organizations_account.chamber_t.id
  	target_type        = "AWS_ACCOUNT"
  }
  resource "aws_organizations_account" "chamber_u" {
  	email = "aws-qa@defn.us"
  	name  = "chamber-u"
  	tags = {
  		ManagedBy = "Terraform"
  	}
  }

  resource "aws_ssoadmin_account_assignment" "chamber_u_admin_sso_account_assignment" {
  	instance_arn       = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.instance_arn
  	permission_set_arn = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.permission_set_arn
  	principal_id       = aws_identitystore_group.administrators_sso_group.group_id
  	principal_type     = "GROUP"
  	target_id          = aws_organizations_account.chamber_u.id
  	target_type        = "AWS_ACCOUNT"
  }
  resource "aws_organizations_account" "chamber_v" {
  	email = "defn-v@imma.io"
  	name  = "chamber-v"
  	tags = {
  		ManagedBy = "Terraform"
  	}
  }

  resource "aws_ssoadmin_account_assignment" "chamber_v_admin_sso_account_assignment" {
  	instance_arn       = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.instance_arn
  	permission_set_arn = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.permission_set_arn
  	principal_id       = aws_identitystore_group.administrators_sso_group.group_id
  	principal_type     = "GROUP"
  	target_id          = aws_organizations_account.chamber_v.id
  	target_type        = "AWS_ACCOUNT"
  }
  resource "aws_organizations_account" "chamber_w" {
  	email = "defn-w@imma.io"
  	name  = "chamber-w"
  	tags = {
  		ManagedBy = "Terraform"
  	}
  }

  resource "aws_ssoadmin_account_assignment" "chamber_w_admin_sso_account_assignment" {
  	instance_arn       = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.instance_arn
  	permission_set_arn = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.permission_set_arn
  	principal_id       = aws_identitystore_group.administrators_sso_group.group_id
  	principal_type     = "GROUP"
  	target_id          = aws_organizations_account.chamber_w.id
  	target_type        = "AWS_ACCOUNT"
  }
  resource "aws_organizations_account" "chamber_x" {
  	email = "aws-stage@defn.us"
  	name  = "chamber-x"
  	tags = {
  		ManagedBy = "Terraform"
  	}
  }

  resource "aws_ssoadmin_account_assignment" "chamber_x_admin_sso_account_assignment" {
  	instance_arn       = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.instance_arn
  	permission_set_arn = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.permission_set_arn
  	principal_id       = aws_identitystore_group.administrators_sso_group.group_id
  	principal_type     = "GROUP"
  	target_id          = aws_organizations_account.chamber_x.id
  	target_type        = "AWS_ACCOUNT"
  }
  resource "aws_organizations_account" "chamber_y" {
  	email = "aws-prod@defn.us"
  	name  = "chamber-y"
  	tags = {
  		ManagedBy = "Terraform"
  	}
  }

  resource "aws_ssoadmin_account_assignment" "chamber_y_admin_sso_account_assignment" {
  	instance_arn       = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.instance_arn
  	permission_set_arn = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.permission_set_arn
  	principal_id       = aws_identitystore_group.administrators_sso_group.group_id
  	principal_type     = "GROUP"
  	target_id          = aws_organizations_account.chamber_y.id
  	target_type        = "AWS_ACCOUNT"
  }
  resource "aws_organizations_account" "chamber_z" {
  	email = "aws-hub@defn.us"
  	name  = "chamber-z"
  	tags = {
  		ManagedBy = "Terraform"
  	}
  }

  resource "aws_ssoadmin_account_assignment" "chamber_z_admin_sso_account_assignment" {
  	instance_arn       = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.instance_arn
  	permission_set_arn = aws_ssoadmin_managed_policy_attachment.admin_sso_managed_policy_attachment.permission_set_arn
  	principal_id       = aws_identitystore_group.administrators_sso_group.group_id
  	principal_type     = "GROUP"
  	target_id          = aws_organizations_account.chamber_z.id
  	target_type        = "AWS_ACCOUNT"
  }
infra_acc_readme: |-
  ## Account-specific Terraform: chamber-org

  ```bash
  cd infra/acc-chamber-org
  mise trust
  aws sso login --profile defn-org
  aws sso login
  terraform init
  terraform plan
  ```

  auto-generated: aws.cue infra_acc_readme
infra_acc_terraform: |-
  # auto-generated: aws.cue infra_acc_terraform
  terraform {
    required_providers {
      aws = {
        version = "5.99.1"
        source  = "aws"
      }
    }
    backend "s3" {
      bucket         = "dfn-defn-terraform-state"
  	use_lockfile   = true
      encrypt        = true
      key            = "stacks/acc-chamber-org/terraform.tfstate"
      profile        = "defn-org"
      region         = "us-east-1"
    }
  }

  provider "aws" {
    profile = "chamber-org"
    alias   = "chamber-org"
    region  = "us-east-1"
  }

  module "chamber-org" {
    account   = 510430971399
    name      = "terraform"
    namespace = "chamber"
    stage     = "ops"
    source    = "./mod/terraform-aws-defn-account"
    providers = {
      aws = aws.chamber-org
    }
  }
