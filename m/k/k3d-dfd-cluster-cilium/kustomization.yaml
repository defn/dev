#ManagedBy: cue

patches: []
resources:
  - resource-ingress-hubble-ui.yaml
commonLabels: {}
commonAnnotations: {}
helmCharts:
  - releaseName: cilium
    name: cilium
    version: 1.14.3
    repo: https://helm.cilium.io
    namespace: kube-system
    valuesInline:
      operator:
        replicas: 1
      loadBalancer:
        algorithm: maglev
      bpf:
        lbExternalClusterIP: true
        masquerade: true
      envoy:
        enabled: true
      ingressController:
        enabled: true
      externalWorkloads:
        enabled: true
      cluster:
        name: default
        id: 0
      clustermesh:
        useAPIServer: true
        apiserver:
          service:
            type: LoadBalancer
          tls:
            auto:
              method: certmanager
              certManagerIssuerRef:
                group: cert-manager.io
                kind: ClusterIssuer
                name: cilium-ca
      authentication:
        mutual:
          spire:
            enabled: true
      encryption:
        enabled: true
        type: wireguard
        nodeEncryption: true
      hubble:
        ui:
          enabled: true
        relay:
          enabled: true
        tls:
          auto:
            method: certmanager
            certManagerIssuerRef:
              name: cilium-ca
              kind: ClusterIssuer
              group: cert-manager.io
    includeCRDs: true
