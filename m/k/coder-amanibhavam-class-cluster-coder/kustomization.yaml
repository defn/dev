#ManagedBy: cue

patches: []
resources:
  - resource-namespace-coder.yaml
  - resource-postgresql.yaml
  - resource-clusterpolicy-create-secret-coder-connection-url.yaml
  - resource-ingress-coder.yaml
  - resource-ingressroute-coder-wildcard.yaml
  - resource-externalsecret-coder.yaml
  - resource-cluster-role-binding-admin.yaml
namespace: coder
commonLabels: {}
commonAnnotations: {}
helmCharts:
  - releaseName: coder
    name: coder
    version: 2.5.1
    repo: https://helm.coder.com/v2
    namespace: coder
    valuesInline:
      coder:
        service:
          type: ClusterIP
        env:
          - name: CODER_ACCESS_URL
            value: https://coder.class.amanibhavam.defn.run
          - name: CODER_WILDCARD_ACCESS_URL
            value: '*.coder.class.amanibhavam.defn.run'
          - name: CODER_REDIRECT_TO_ACCESS_URL
            value: "false"
          - name: CODER_UPDATE_CHECK
            value: "false"
          - name: CODER_TELEMETRY_ENABLE
            value: "false"
          - name: CODER_TELEMETRY_TRACE
            value: "false"
          - name: CODER_DERP_SERVER_ENABLE
            value: "true"
          - name: CODER_DISABLE_PASSWORD_AUTH
            value: "false"
          - name: CODER_STRICT_TRANSPORT_SECURITY
            value: "60"
          - name: CODER_EXPERIMENTS
            value: dashboard_theme
          - name: CODER_SCALETEST_JOB_TIMEOUT
            value: 10m
          - name: CODER_ENABLE_TERRAFORM_DEBUG_MODE
            value: "true"
          - name: CODER_SECURE_AUTH_COOKIE
            value: "true"
          - name: CODER_OAUTH2_GITHUB_ALLOW_SIGNUPS
            value: "true"
          - name: CODER_OAUTH2_GITHUB_ALLOWED_ORGS
            value: defn
          - name: CODER_OAUTH2_GITHUB_ALLOWED_TEAMS
            value: defn/class
          - name: CODER_OAUTH2_GITHUB_CLIENT_ID
            valueFrom:
              secretKeyRef:
                name: coder
                key: coder_oauth2_github_client_id
          - name: CODER_OAUTH2_GITHUB_CLIENT_SECRET
            valueFrom:
              secretKeyRef:
                name: coder
                key: coder_oauth2_github_client_secret
          - name: CODER_PG_CONNECTION_URL
            valueFrom:
              secretKeyRef:
                name: coder.coder-db.connection-url
                key: coder_pg_connection_url
    includeCRDs: true
