#ManagedBy: cue

apiVersion: external-secrets.io/v1beta1
kind: ExternalSecret
metadata:
  name: harbor-admin
  namespace: harbor
spec:
  target:
    name: external-harbor-admin
    creationPolicy: Owner
  secretStoreRef:
    kind: ClusterSecretStore
    name: secrets-manager
  data:
    - secretKey: coder-amanibhavam-district-cluster
      remoteRef:
        key: coder-amanibhavam-district-cluster
        property: coder-amanibhavam-district-cluster
    - secretKey:
        - harbor_admin_password
        - harbor_postgres_password
      remoteRef:
        key: coder-amanibhavam-district-cluster
        property:
          - harbor_admin_password
          - harbor_postgres_password
  refreshInterval: 1h
