#!/usr/bin/env bash

function main {
	set -efu

	git pull
	if ! n cut "$*" ; then
		git status -sb
		if [[ -n "${1:-}" ]]; then
		git status -sb
			git add -u .
		git status -sb
			git commit -m "$*"
			n cut "$*"
		fi
	fi
	n push
	git push
}

source sub "$0" "$@"
